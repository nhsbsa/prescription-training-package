{% extends 'layout-admin.html' %}

{% block pageTitle %}
Prescription Processing Training Package
{% endblock %}

{% block beforeContent %}
<nav class="nhsuk-breadcrumb" aria-label="Breadcrumb">
  <ol class="nhsuk-breadcrumb__list">
    <li class="nhsuk-breadcrumb__list-item"><a class="nhsuk-breadcrumb__link" href="../dashboard">My dashboard</a></li>
    <li class="nhsuk-breadcrumb__list-item"><a class="nhsuk-breadcrumb__link" href="reports">View reports</a></li>
  </ol>
</nav>
{% endblock %}

{% block content %}
<div class="nhsuk-grid-row">
  <div class="nhsuk-grid-column-two-thirds">

    <h1 class="nhsuk-heading-xl">Export administrator checking data</h1>

    <p class="nhsuk-body">Export administrator checking data as an Excel file.</p>

<style>
  .dropdown-row {
    display: flex;
    gap: 20px;
    align-items: flex-start;
  }
</style>

<!-- Month + Year -->
<div class="dropdown-row">
  <div class="nhsuk-form-group" id="day-wrapper" style="display: none;">
      <div class="nhsuk-date-input__item" style="margin-right: -2%;">        
        <label class="nhsuk-label nhsuk-date-input__label" for="day">
          Day
        </label>
        <input
          class="nhsuk-input nhsuk-date-input__input nhsuk-input--width-4"
          id="day"
          name="day"
          type="text"
          inputmode="numeric"
          style="gap: 5px;">
        </div>
      </div>

  <div class="nhsuk-form-group">
    <label class="nhsuk-label" for="month-select">Month</label>
    <select class="nhsuk-select" id="month-select" name="month" style="width:100px">
      <option value="" selected>Select a month</option>
      <option>January</option><option>February</option><option>March</option>
      <option>April</option><option>May</option><option>June</option>
      <option>July</option><option>August</option><option>September</option>
      <option>October</option><option>November</option><option>December</option>
    </select>
  </div>

  <div class="nhsuk-form-group">
    <label class="nhsuk-label" for="year-select">Year</label>
    <select class="nhsuk-select" id="year-select" name="year" style="width:100px">
      <option value="" selected>Select a year</option>
      <option>2025</option><option>2026</option><option>2027</option>
      <option>2028</option><option>2029</option>
    </select>
  </div>
</div>



<!-- Report type dropdown -->
<div class="nhsuk-form-group">
  <label class="nhsuk-label" for="report-select">Report type</label>
  <select class="nhsuk-select" id="report-select" name="report" style="width:400px">
    <option value="" selected>Select a report type</option>
    <option value="individual-daily-summary">Individual Daily Summary</option>
    <option value="individual-monthly">Individual monthly</option>
    <option value="check-total-daily">Check total daily</option>
    <option value="individual-daily">Individual daily</option>
  </select>
</div>

<!-- Checker dropdown (hidden by default) -->
<div class="nhsuk-form-group" id="checker-wrapper" style="display: none;">
  <label class="nhsuk-label" for="search-checker">
    Enter checker name or cipher
  </label>

  <input
    type="text"
    class="nhsuk-select nhsuk-input--width-10"
    id="search-checker"
    name="search-checker"
    list="checker-list"
    style="width: 400px;"
  />

  <datalist id="checker-list">
    <option value="John Smith"></option>
    <option value="Jane Doe"></option>
    <option value="James Walker"></option>
    <option value="Rachel Green"></option>
    <option value="Mathew Johnson"></option>
    <option value="John Philips"></option>
    <option value="Smith Johns"></option>
    <option value="Doe Jane"></option>
    <option value="Walker James"></option>
    <option value="Green Rachel"></option>
  </datalist>
</div>




<script>
  const reportSelect = document.getElementById("report-select");
  const checkerWrapper = document.getElementById("checker-wrapper");
  const dayWrapper = document.getElementById("day-wrapper");

  // Show checker list only for specific report types
  reportSelect.addEventListener("change", function () {
    const value = this.value;

   // Reset visibility
    checkerWrapper.style.display = "none";
    dayWrapper.style.display = "none";

    if (value === "individual-daily-summary") {
      checkerWrapper.style.display = "block";
      dayWrapper.style.display = "none";
    }
    if (value === "check-total-daily") {
      checkerWrapper.style.display = "block";
      dayWrapper.style.display = "none";
    }

    if (value === "individual-daily") {
      checkerWrapper.style.display = "block";
      dayWrapper.style.display = "block";
    }
  });
</script>

<!-- Export button -->

<div class="nhsuk-u-padding-bottom-4"></div>

<a href="admin-check-data-export" class="nhsuk-button" data-module="nhsuk-button">
  Export
</a>

  </div>
</div>

{% endblock %}
